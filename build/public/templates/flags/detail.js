!function(t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd&&define(t)}(function(){function l(t,r,e,n,a){var s=t.__escape;return'<div class="row">\r\n\t<div class="col-sm-4 col-md-3">\r\n\t\t<div class="panel panel-default">\r\n\t<div class="panel-heading">\r\n\t\t<h3 class="panel-title">[[flags:quick-filters]]</h3>\r\n\t</div>\r\n\t<div class="panel-body">\r\n\t\t<ul>\r\n\t\t\t<li><a href="'+s(e(r&&r.config&&r.config.relative_path))+'/flags?quick=mine">[[flags:filter-quick-mine]]</a></li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n\r\n<div class="panel panel-default">\r\n\t<div class="panel-heading">\r\n\t\t<h3 class="panel-title">[[flags:filters]]</h3>\r\n\t</div>\r\n\t<div class="panel-body">\r\n\t\t<form role="form" component="flags/filters">\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="filter-state">[[flags:filter-state]]</label>\r\n\t\t\t\t<select class="form-control" id="filter-state" name="state">\r\n\t\t\t\t\t<option value="">[[flags:state-all]]</option>\r\n\t\t\t\t\t<option value="open">[[flags:state-open]]</option>\r\n\t\t\t\t\t<option value="wip">[[flags:state-wip]]</option>\r\n\t\t\t\t\t<option value="resolved">[[flags:state-resolved]]</option>\r\n\t\t\t\t\t<option value="rejected">[[flags:state-rejected]]</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="filter-type">[[flags:filter-type]]</label>\r\n\t\t\t\t<select class="form-control" id="filter-type" name="type">\r\n\t\t\t\t\t<option value="">[[flags:filter-type-all]]</option>\r\n\t\t\t\t\t<option value="post">[[flags:filter-type-post]]</option>\r\n\t\t\t\t\t<option value="user">[[flags:filter-type-user]]</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="filter-assignee">[[flags:filter-assignee]]</label>\r\n\t\t\t\t<input type="number" class="form-control" id="filter-assignee" name="assignee" min="0" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="filter-cid">[[flags:filter-cid]]</label>\r\n\t\t\t\t<select class="form-control" id="filter-cid" name="cid" multiple="true">\r\n\t\t\t\t\t<option value="">[[flags:filter-cid-all]]</option>\r\n\t\t\t\t\t'+l.blocks.categories(t,r,e,n,a)+'\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="filter-targetUid">[[flags:filter-targetUid]]</label>\r\n\t\t\t\t<input type="number" class="form-control" id="filter-targetUid" name="targetUid" min="0" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="form-group">\r\n\t\t\t\t<label for="filter-reporterId">[[flags:filter-reporterId]]</label>\r\n\t\t\t\t<input type="number" class="form-control" id="filter-reporterId" name="reporterId" min="0" />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type="button" class="btn btn-primary btn-block">[[flags:apply-filters]]</button>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n\t</div>\r\n\t<div class="col-sm-8 col-md-9">\r\n\t\t<h2>\r\n\t\t\t<div class="pull-right">\r\n\t\t\t\t<a class="btn btn-link" href="'+s(e(r&&r.config&&r.config.relative_path))+'/flags"><i class="fa fa-chevron-left"></i> [[flags:back]]</a>\r\n\t\t\t</div>\r\n\t\t\t'+s(e(r&&r.target_readable))+'\r\n\t\t\t<small><span class="timeago" title="'+s(e(r&&r.datetimeISO))+'"></span></small>\r\n\t\t</h2>\r\n\r\n\t\t<hr />\r\n\r\n\t\t'+(e(r&&r.type_bool&&r.type_bool.post)?'\r\n\t\t<div class="media">\r\n\t\t\t<div class="media-left">\r\n\t\t\t\t<a href="'+s(e(r&&r.config&&r.config.relative_path))+"/user/"+s(e(r&&r.target&&r.target.user&&r.target.user.userslug))+'">'+s(a(r,t,"buildAvatar",[e(r&&r.target&&r.target.user),"lg",e(r&&r.false),"media-object"]))+'</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="media-body">\r\n\t\t\t\t<h4 class="media-heading"><a href="'+s(e(r&&r.config&&r.config.relative_path))+"/user/"+s(e(r&&r.target&&r.target.user&&r.target.user.userslug))+'">'+s(e(r&&r.target&&r.target.user&&r.target.user.username))+"</a></h4>\r\n\t\t\t\t"+s(e(r&&r.target&&r.target.content))+"\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t":"")+"\r\n\r\n\t\t"+(e(r&&r.type_bool&&r.type_bool.user)?'\r\n\t\t<div class="media">\r\n\t\t\t<div class="media-left">\r\n\t\t\t\t<a href="'+s(e(r&&r.config&&r.config.relative_path))+"/user/"+s(e(r&&r.target&&r.target.userslug))+'">'+s(a(r,t,"buildAvatar",[e(r&&r.target),"lg",e(r&&r.false),"media-object"]))+'</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="media-body">\r\n\t\t\t\t<h4 class="media-heading"><a href="'+s(e(r&&r.config&&r.config.relative_path))+"/user/"+s(e(r&&r.target&&r.target.userslug))+'">'+s(e(r&&r.target&&r.target.username))+'</a></h4>\r\n\t\t\t\t<p class="lead">\r\n\t\t\t\t\t<a href="'+s(e(r&&r.config&&r.config.relative_path))+"/uid/"+s(e(r&&r.target&&r.target.uid))+'">[[flags:user-view]]</a> |\r\n\t\t\t\t\t<a href="'+s(e(r&&r.config&&r.config.relative_path))+"/uid/"+s(e(r&&r.target&&r.target.uid))+'/edit">[[flags:user-edit]]</a>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t':"")+"\r\n\r\n\t\t"+(e(r&&r.type_bool&&r.type_bool.empty)?'\r\n\t\t<div class="alert alert-warning">[[flags:target-purged]]</div>\r\n\t\t':"")+'\r\n\r\n\t\t<hr />\r\n\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-sm-6 col-md-8">\r\n\t\t\t\t<form role="form" id="attributes">\r\n\t\t\t\t\t<div class="form-group row">\r\n\t\t\t\t\t\t<div class="col-sm-6">\r\n\t\t\t\t\t\t\t<label>[[flags:reporter]]</label>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t'+s(a(r,t,"buildAvatar",[e(r&&r.reporter),"sm",e(r&&r.false),"media-object"]))+'\r\n\t\t\t\t\t\t\t\t<a href="'+s(e(r&&r.config&&r.config.relative_path))+"/user/"+s(e(r&&r.reporter&&r.reporter.userslug))+'">'+s(e(r&&r.reporter&&r.reporter.username))+'</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="col-sm-6">\r\n\t\t\t\t\t\t\t<label>[[flags:reported-at]]</label>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t'+s(e(r&&r.datetimeISO))+'\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label>[[flags:description]]</label>\r\n\t\t\t\t\t\t<blockquote>'+s(e(r&&r.description))+'</blockquote>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="state">[[flags:state]]</label>\r\n\t\t\t\t\t\t<select class="form-control" id="state" name="state" disabled>\r\n\t\t\t\t\t\t\t<option value="open">[[flags:state-open]]</option>\r\n\t\t\t\t\t\t\t<option value="wip">[[flags:state-wip]]</option>\r\n\t\t\t\t\t\t\t<option value="resolved">[[flags:state-resolved]]</option>\r\n\t\t\t\t\t\t\t<option value="rejected">[[flags:state-rejected]]</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="assignee">[[flags:assignee]]</label>\r\n\t\t\t\t\t\t<select class="form-control" id="assignee" name="assignee" disabled>\r\n\t\t\t\t\t\t\t<option value="">[[flags:no-assignee]]</option>\r\n\t\t\t\t\t\t\t'+l.blocks.assignees(t,r,e,n,a)+'\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type="button" class="btn btn-block btn-primary" data-action="update">[[flags:update]]</button>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<form role="form">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="note">[[flags:notes]]</label>\r\n\t\t\t\t\t\t<textarea id="note" class="form-control"></textarea>\r\n\t\t\t\t\t\t<button type="button" class="btn btn-block btn-primary" data-action="appendNote">[[flags:add-note]]</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<div component="flag/notes">\r\n\t\t\t\t\t'+(e(r&&r.notes&&r.notes.length)?"":'\r\n\t\t\t\t\t<div class="alert alert-success text-center">[[flags:no-notes]]</div>\r\n\t\t\t\t\t')+"\r\n\t\t\t\t\t"+l.blocks.notes(t,r,e,n,a)+'\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-sm-6 col-md-4">\r\n\t\t\t\t<label>[[flags:quick-links]]</label>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li><a href="'+s(e(r&&r.config&&r.config.relative_path))+"/"+s(e(r&&r.type_path))+"/"+s(e(r&&r.targetId))+'">[[flags:go-to-target]]</a></li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t[[flags:flagged-user]]\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li><a href="'+s(e(r&&r.config&&r.config.relative_path))+"/uid/"+s(e(r&&r.target&&r.target.uid))+'">[[flags:view-profile]]</a></li>\r\n\t\t\t\t\t\t\t<li><a href="#" data-chat="'+s(e(r&&r.target&&r.target.uid))+'">[[flags:start-new-chat]]</a></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t[[flags:reporter]]\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li><a href="'+s(e(r&&r.config&&r.config.relative_path))+"/uid/"+s(e(r&&r.reporter&&r.reporter.uid))+'">[[flags:view-profile]]</a></li>\r\n\t\t\t\t\t\t\t<li><a href="#" data-chat="'+s(e(r&&r.reporter&&r.reporter.uid))+'">[[flags:start-new-chat]]</a></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<label>[[flags:history]]</label>\r\n\t\t\t\t<div component="flag/history">\r\n\t\t\t\t\t'+(e(r&&r.history&&r.history.length)?"":'\r\n\t\t\t\t\t<div class="alert alert-success text-center">[[flags:no-history]]</div>\r\n\t\t\t\t\t')+"\r\n\t\t\t\t\t"+l.blocks.history(t,r,e,n,a)+"\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"}return l.blocks={categories:function(t,r,a,e){var s=t.__escape;return e(a(r&&r.categories),function(t,r,e,n){return'\r\n\t\t\t\t\t<option value="'+s(t)+'">'+s(a(n))+"</option>\r\n\t\t\t\t\t"},function(){return""})},assignees:function(t,r,e,n){var a=t.__escape;return n(e(r&&r.assignees),function(t){return'\r\n\t\t\t\t\t\t\t<option value="'+a(e(r&&r.assignees&&r.assignees[t]&&r.assignees[t].uid))+'">'+a(e(r&&r.assignees&&r.assignees[t]&&r.assignees[t].username))+"</option>\r\n\t\t\t\t\t\t\t"},function(){return""})},notes:function(r,e,n,t,a){var s=r.__escape;return t(n(e&&e.notes),function(t){return'\r\n\t\t\t\t\t<div class="media">\r\n\t\t\t\t\t\t<div class="media-left">\r\n\t\t\t\t\t\t\t<a href="'+s(n(e&&e.config&&e.config.relative_path))+"/user/"+s(n(e&&e.notes&&e.notes[t]&&e.notes[t].user&&e.notes[t].user.userslug))+'">'+s(a(e,r,"buildAvatar",[n(e&&e.notes&&e.notes[t]&&e.notes[t].user),"md",n(e&&e.false),"media-object"]))+'</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="media-body">\r\n\t\t\t\t\t\t\t<h4 class="media-heading">\r\n\t\t\t\t\t\t\t\t<a href="'+s(n(e&&e.config&&e.config.relative_path))+"/user/"+s(n(e&&e.notes&&e.notes[t]&&e.notes[t].user&&e.notes[t].user.userslug))+'">'+s(n(e&&e.notes&&e.notes[t]&&e.notes[t].user&&e.notes[t].user.username))+'</a>\r\n\t\t\t\t\t\t\t\t<small><span class="timeago" title="'+s(n(e&&e.notes&&e.notes[t]&&e.notes[t].datetimeISO))+'"></span></small>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t'+s(n(e&&e.notes&&e.notes[t]&&e.notes[t].content))+"\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t"},function(){return""})},history:function(r,e,a,n,s){var l=r.__escape;return n(a(e&&e.history),function(t){return'\r\n\t\t\t\t\t<div class="media">\r\n\t\t\t\t\t\t<div class="media-left">\r\n\t\t\t\t\t\t\t<a href="'+l(a(e&&e.config&&e.config.relative_path))+"/user/"+l(a(e&&e.history&&e.history[t]&&e.history[t].user&&e.history[t].user.userslug))+'">'+l(s(e,r,"buildAvatar",[a(e&&e.history&&e.history[t]&&e.history[t].user),"md",a(e&&e.false),"media-object"]))+'</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="media-body">\r\n\t\t\t\t\t\t\t<h4 class="media-heading">\r\n\t\t\t\t\t\t\t\t<a href="'+l(a(e&&e.config&&e.config.relative_path))+"/user/"+l(a(e&&e.history&&e.history[t]&&e.history[t].user&&e.history[t].user.userslug))+'">'+l(a(e&&e.history&&e.history[t]&&e.history[t].user&&e.history[t].user.username))+'</a>\r\n\t\t\t\t\t\t\t\t<small><span class="timeago" title="'+l(a(e&&e.history&&e.history[t]&&e.history[t].datetimeISO))+'"></span></small>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t'+n(a(e&&e.history&&e.history[t]&&e.history[t].fields),function(t,r,e,n){return'\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<span class="label label-primary">[[flags:'+l(t)+"]]</span>"+(a(n)?' &rarr; <span class="label label-default">'+l(a(n))+"</span>":"")+"\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t"},function(){return""})+"\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t"},function(){return""})}},l});