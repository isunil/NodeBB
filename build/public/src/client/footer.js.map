{"version":3,"sources":["public/src/client/footer.js"],"names":["define","components","translator","Unread","Notifications","Chat","prepareDOM","socket","on","count","get","toggleClass","attr","app","user","uid","initUnreadTopics"],"mappings":"AAAA,aAGAA,OAAO,gBACN,aACA,aACA,eACA,6BACA,qBACE,SAAUC,EAAYC,EAAYC,EAAQC,EAAeC,GAC3DD,EAAcE,aACdD,EAAKC,aACLJ,EAAWI,aAEXC,OAAOC,GAAG,+BAAgC,SAAUC,GACnDR,EAAWS,IAAI,aACbC,YAAY,eAAgBF,EAAQ,GACpCG,KAAK,eAAgBH,EAAQ,GAAK,MAAQA,KAG7C,GAAII,IAAIC,KAAKC,IAAM,EAAG,CACrBZ,EAAOa","file":"public/src/client/footer.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('forum/footer', [\r\n\t'components',\r\n\t'translator',\r\n\t'forum/unread',\r\n\t'forum/header/notifications',\r\n\t'forum/header/chat',\r\n], function (components, translator, Unread, Notifications, Chat) {\r\n\tNotifications.prepareDOM();\r\n\tChat.prepareDOM();\r\n\ttranslator.prepareDOM();\r\n\r\n\tsocket.on('event:unread.updateChatCount', function (count) {\r\n\t\tcomponents.get('chat/icon')\r\n\t\t\t.toggleClass('unread-count', count > 0)\r\n\t\t\t.attr('data-content', count > 99 ? '99+' : count);\r\n\t});\r\n\r\n\tif (app.user.uid > 0) {\r\n\t\tUnread.initUnreadTopics();\r\n\t}\r\n});\r\n"]}