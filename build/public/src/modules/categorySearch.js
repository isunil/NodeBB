"use strict";define("categorySearch",function(){var n={};n.init=function(n){if(utils.isTouchDevice()){return}var t=n.find('[component="category-selector-search"]');if(!t.length){return}var o=n.find('[component="category/list"] [data-cid]');n.on("show.bs.dropdown",function(){function e(t){var o=n.find('[component="category/list"] [data-cid="'+t+'"]').attr("data-parent-cid");if(o){n.find('[component="category/list"] [data-cid="'+o+'"]').removeClass("hidden");e(o)}}function a(t){var o=n.find('[component="category/list"] [data-parent-cid="'+t+'"]');o.each(function(n,t){var o=$(t);o.removeClass("hidden");a(o.attr("data-cid"))})}function i(){var i=t.find("input").val().toLowerCase();var d=true;var r=[];o.each(function(){var n=$(this);var t=n.attr("data-name").toLowerCase().indexOf(i)!==-1;if(d&&t){d=false}if(t&&i){r.push(n.attr("data-cid"))}n.toggleClass("hidden",!t).find('[component="category-markup"]').css({"font-weight":i&&t?"bold":"normal"})});r.forEach(function(n){e(n);a(n)});n.find('[component="category/list"] [component="category/no-matches"]').toggleClass("hidden",!d)}n.find(".dropdown-toggle").addClass("hidden");t.removeClass("hidden").on("click",function(n){n.preventDefault();n.stopPropagation()});t.find("input").val("").focus().on("keyup",i);i()});n.on("hide.bs.dropdown",function(){n.find(".dropdown-toggle").removeClass("hidden");t.addClass("hidden").off("click");t.find("input").off("keyup")})};return n});
//# sourceMappingURL=categorySearch.js.map